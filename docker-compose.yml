version: "3.8"
services:
  backend:
    image: radstallion/quizzle-backend:dev 
    build:
      context: ./app
      dockerfile: ./docker/Dockerfile.dev #equivalant to {context}/{dockerfile}
    ports:
      - "8081:80"
  mongo:
    image: mongo
    environment:
      - MONGO_INITDB_DATABASE:"quiz"
      - MONGO_INITDB_ROOT_USERNAME:"root"
      - MONGO_INITDB_ROOT_PASSWORD:"root"
    volumes:
      - ./init-mongo.js:/docker-entrypoint-initdb.d/init-mongo.js:ro
      - mongo-volume:/data/db
volumes:
  mongo-volume:
